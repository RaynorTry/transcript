
        <!DOCTYPE html>
        <html lang="ru">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>Архив тикетов</title>
            <style>
                :root {
                    --bg: #111418;
                    --card: #1a1e24;
                    --soft: #262c36;
                    --text: #e5e7eb;
                    --muted: #9ca3af;
                    --accent: #57F287;
                    --header-bg: linear-gradient(135deg, #6366f1, #06b6d4);
                    --header-text: #ffffff;
                    --filter-bg: #262c36;
                    --status-open: #10b981;
                    --status-closed: #ef4444;
                }
                [data-theme="light"] {
                    --bg: #f9fafb;
                    --card: #ffffff;
                    --soft: #e5e7eb;
                    --text: #111827;
                    --muted: #6b7280;
                    --header-bg: linear-gradient(135deg, #6366f1, #06b6d4);
                    --header-text: #ffffff;
                    --filter-bg: #f3f4f6;
                    --status-open: #10b981;
                    --status-closed: #ef4444;
                }
                body {
                    margin: 0;
                    background: var(--bg);
                    color: var(--text);
                    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                    line-height: 1.6;
                    padding: 0;
                }
                header {
                    background: var(--header-bg);
                    color: var(--header-text);
                    padding: 1.5rem;
                    text-align: center;
                    border-bottom: 3px solid rgba(255,255,255,0.1);
                }
                header h1 {
                    margin: 0;
                    font-size: 2rem;
                    font-weight: 700;
                }
                .controls {
                    display: flex;
                    gap: 1rem;
                    padding: 1rem;
                    background: var(--filter-bg);
                    flex-wrap: wrap;
                    align-items: center;
                }
                .search-box {
                    flex: 1;
                    min-width: 200px;
                }
                .search-box input {
                    width: 100%;
                    padding: 0.5rem;
                    border: 1px solid var(--soft);
                    border-radius: 0.5rem;
                    background: var(--card);
                    color: var(--text);
                    font-family: inherit;
                }
                select {
                    padding: 0.5rem;
                    border: 1px solid var(--soft);
                    border-radius: 0.5rem;
                    background: var(--card);
                    color: var(--text);
                    font-family: inherit;
                }
                .ticket-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
                    gap: 1.5rem;
                    padding: 2rem 1rem;
                    max-width: 1400px;
                    margin: 0 auto;
                }
                .ticket-card {
                    background: var(--card);
                    border: 1px solid var(--soft);
                    border-radius: 12px;
                    padding: 1.25rem;
                    transition: transform 0.2s, box-shadow 0.2s, border-color 0.2s;
                }
                .ticket-card:hover {
                    transform: translateY(-4px);
                    box-shadow: 0 6px 16px rgba(0,0,0,0.18);
                    border-color: var(--accent);
                }
                [data-theme="light"] .ticket-card:hover {
                    box-shadow: 0 6px 16px rgba(0,0,0,0.06);
                }
                .ticket-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: flex-start;
                    margin-bottom: 1rem;
                    flex-wrap: wrap;
                    gap: 0.5rem;
                }
                .ticket-title {
                    font-weight: 600;
                    font-size: 1.1rem;
                    color: var(--accent);
                    text-decoration: none;
                }
                .ticket-status {
                    padding: 0.25rem 0.75rem;
                    border-radius: 9999px;
                    font-size: 0.75rem;
                    font-weight: 600;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }
                .status-open {
                    background: var(--status-open);
                    color: #000;
                }
                .status-closed {
                    background: var(--status-closed);
                    color: #fff;
                }
                .ticket-meta {
                    font-size: 0.875rem;
                    color: var(--muted);
                    margin: 0.75rem 0;
                    line-height: 1.5;
                }
                .ticket-meta div {
                    margin: 0.25rem 0;
                    display: flex;
                    gap: 0.5rem;
                }
                .ticket-meta strong {
                    min-width: 90px;
                    color: var(--text);
                }
                .ticket-footer {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-top: 1.25rem;
                    padding-top: 1rem;
                    border-top: 1px solid var(--soft);
                    font-size: 0.875rem;
                }
                .view-btn {
                    background: var(--accent);
                    color: #000;
                    border: none;
                    padding: 0.375rem 1rem;
                    border-radius: 8px;
                    font-weight: 600;
                    cursor: pointer;
                    text-decoration: none;
                    display: inline-block;
                    font-size: 0.875rem;
                    transition: background 0.2s, transform 0.1s;
                }
                .view-btn:hover {
                    background: #4ade80;
                    transform: scale(1.03);
                }

                /* ✅ КНОПКА СМЕНЫ ТЕМЫ — В ПРАВОМ ВЕРХНЕМ УГЛУ */
                .theme-toggle {
                    position: fixed;
                    top: 1rem;
                    right: 1rem;
                    z-index: 100;
                    background: var(--card);
                    border: 1px solid var(--soft);
                    color: var(--text);
                    padding: 0.5rem 0.75rem;
                    border-radius: 0.5rem;
                    cursor: pointer;
                    font-weight: 500;
                    display: flex;
                    align-items: center;
                    gap: 0.375rem;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
                    font-size: 0.875rem;
                }

                footer {
                    color: var(--muted);
                    font-size: 0.875rem;
                    text-align: center;
                    padding: 2rem;
                    border-top: 1px solid var(--soft);
                    margin-top: 2rem;
                }
                @media (max-width: 768px) {
                    .controls {
                        flex-direction: column;
                        align-items: stretch;
                    }
                    .search-box {
                        width: 100%;
                    }
                    .ticket-grid {
                        grid-template-columns: 1fr;
                        padding: 1rem;
                    }
                }
            </style>
        </head>
        <body>
            <!-- ✅ Только кнопка смены темы — без "Архив тикетов" -->
            <button class="theme-toggle" onclick="toggleTheme()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 3a9 9 0 109 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 01-4.4 2.26 5.403 5.403 0 01-3.14-9.8c-.44-.06-.9-.1-1.36-.1z" fill="currentColor"/>
                </svg>
                Сменить тему
            </button>
            <script>
                function toggleTheme() {
                    const body = document.body;
                    const currentTheme = body.getAttribute('data-theme') || 'dark';
                    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                    body.setAttribute('data-theme', newTheme);
                    localStorage.setItem('theme', newTheme);
                }
                document.addEventListener('DOMContentLoaded', () => {
                    const savedTheme = localStorage.getItem('theme') || 'dark';
                    document.body.setAttribute('data-theme', savedTheme);
                });

                function filterTickets() {
                    const search = document.getElementById('search').value.toLowerCase();
                    const category = document.getElementById('category').value;
                    const status = document.getElementById('status').value;
                    const cards = document.querySelectorAll('.ticket-card');

                    cards.forEach(card => {
                        const nickname = card.dataset.nickname.toLowerCase();
                        const description = card.dataset.description.toLowerCase();
                        const cat = card.dataset.category;
                        const isClosed = card.dataset.closed === 'true';

                        const matchesSearch = nickname.includes(search) || description.includes(search);
                        const matchesCategory = category === 'all' || cat === category;
                        const matchesStatus = status === 'all' || (status === 'open' && !isClosed) || (status === 'closed' && isClosed);

                        card.style.display = matchesSearch && matchesCategory && matchesStatus ? 'block' : 'none';
                    });
                }

                function sortTickets() {
                    const sortBy = document.getElementById('sort').value;
                    const container = document.querySelector('.ticket-grid');
                    const cards = Array.from(container.querySelectorAll('.ticket-card'));

                    cards.sort((a, b) => {
                        let aValue, bValue;
                        if (sortBy === 'opened') {
                            aValue = parseInt(a.dataset.opened);
                            bValue = parseInt(b.dataset.opened);
                        } else if (sortBy === 'closed') {
                            aValue = parseInt(a.dataset.closedTime || 0);
                            bValue = parseInt(b.dataset.closedTime || 0);
                        } else if (sortBy === 'messages') {
                            aValue = parseInt(a.dataset.messages);
                            bValue = parseInt(b.dataset.messages);
                        }
                        return bValue - aValue;
                    });

                    container.innerHTML = '';
                    cards.forEach(card => container.appendChild(card));
                }
            </script>

            <header>
                <h1>📚 Архив тикетов</h1>
                <p>Всего тикетов: 5</p>
            </header>

            <div class="controls">
                <div class="search-box">
                    <input type="text" id="search" placeholder="Поиск по нику, описанию..." oninput="filterTickets()">
                </div>
                <select id="category" onchange="filterTickets()">
                    <option value="all">Все категории</option>
                    <option value="{cat}">{cat}</option><option value="{cat}">{cat}</option>
                </select>
                <select id="status" onchange="filterTickets()">
                    <option value="all">Все статусы</option>
                    <option value="open">Открытые</option>
                    <option value="closed">Закрытые</option>
                </select>
                <select id="sort" onchange="sortTickets()">
                    <option value="opened">По дате открытия</option>
                    <option value="closed">По дате закрытия</option>
                    <option value="messages">По кол-ву сообщений</option>
                </select>
            </div>

            <div class="ticket-grid">
        
                <div class="ticket-card"
                     data-nickname="гост"
                     data-description="админ состав плохой, не дает делать крафты"
                     data-category="Жалоба-на-игрока"
                     data-closed="false"
                     data-opened="1757525484"
                     data-closed-time="0"
                     data-messages="0">
                    <div class="ticket-header">
                        <a href="transcript-1415389209128079360.html" class="ticket-title">#ticket-report-6</a>
                        <span class="ticket-status status-open">
                            Открыт
                        </span>
                    </div>
                    <div class="ticket-meta">
                        <div><strong>Категория:</strong> Жалоба-на-игрока</div>
                        <div><strong>Ник:</strong> гост</div>
                        <div><strong>Открыл:</strong> Гостоевский</div>
                        <div><strong>Дата:</strong> 10.09.2025 17:31</div>
                        
                        
                    </div>
                    <div class="ticket-footer">
                        <span>0 сообщений</span>
                        <a href="transcript-1415389209128079360.html" class="view-btn">Открыть</a>
                    </div>
                </div>
            
                <div class="ticket-card"
                     data-nickname="а"
                     data-description="а"
                     data-category="Жалоба-на-игрока"
                     data-closed="true"
                     data-opened="1757524329"
                     data-closed-time="1757524351"
                     data-messages="4">
                    <div class="ticket-header">
                        <a href="transcript-1415384363595595857.html" class="ticket-title">#ticket-report-5</a>
                        <span class="ticket-status status-closed">
                            Закрыт
                        </span>
                    </div>
                    <div class="ticket-meta">
                        <div><strong>Категория:</strong> Жалоба-на-игрока</div>
                        <div><strong>Ник:</strong> а</div>
                        <div><strong>Открыл:</strong> Рэйка</div>
                        <div><strong>Дата:</strong> 10.09.2025 17:12</div>
                        <div><strong>Закрыл:</strong> Рэйка</div>
                        <div><strong>Закрыт:</strong> 10.09.2025 17:12</div>
                    </div>
                    <div class="ticket-footer">
                        <span>4 сообщений</span>
                        <a href="transcript-1415384363595595857.html" class="view-btn">Открыть</a>
                    </div>
                </div>
            
                <div class="ticket-card"
                     data-nickname="а"
                     data-description="а"
                     data-category="Одобрение-варпа"
                     data-closed="true"
                     data-opened="1757523350"
                     data-closed-time="1757523367"
                     data-messages="3">
                    <div class="ticket-header">
                        <a href="transcript-1415380260572238058.html" class="ticket-title">#ticket-warp-4</a>
                        <span class="ticket-status status-closed">
                            Закрыт
                        </span>
                    </div>
                    <div class="ticket-meta">
                        <div><strong>Категория:</strong> Одобрение-варпа</div>
                        <div><strong>Ник:</strong> а</div>
                        <div><strong>Открыл:</strong> Рэйка</div>
                        <div><strong>Дата:</strong> 10.09.2025 16:55</div>
                        <div><strong>Закрыл:</strong> Рэйка</div>
                        <div><strong>Закрыт:</strong> 10.09.2025 16:56</div>
                    </div>
                    <div class="ticket-footer">
                        <span>3 сообщений</span>
                        <a href="transcript-1415380260572238058.html" class="view-btn">Открыть</a>
                    </div>
                </div>
            
                <div class="ticket-card"
                     data-nickname="f"
                     data-description="f"
                     data-category="Жалоба-на-игрока"
                     data-closed="true"
                     data-opened="1757522188"
                     data-closed-time="1757522202"
                     data-messages="3">
                    <div class="ticket-header">
                        <a href="transcript-1415375385104748630.html" class="ticket-title">#ticket-report-3</a>
                        <span class="ticket-status status-closed">
                            Закрыт
                        </span>
                    </div>
                    <div class="ticket-meta">
                        <div><strong>Категория:</strong> Жалоба-на-игрока</div>
                        <div><strong>Ник:</strong> f</div>
                        <div><strong>Открыл:</strong> Рэйка</div>
                        <div><strong>Дата:</strong> 10.09.2025 16:36</div>
                        <div><strong>Закрыл:</strong> Рэйка</div>
                        <div><strong>Закрыт:</strong> 10.09.2025 16:36</div>
                    </div>
                    <div class="ticket-footer">
                        <span>3 сообщений</span>
                        <a href="transcript-1415375385104748630.html" class="view-btn">Открыть</a>
                    </div>
                </div>
            
                <div class="ticket-card"
                     data-nickname="f"
                     data-description="f"
                     data-category="Одобрение-варпа"
                     data-closed="true"
                     data-opened="1757522027"
                     data-closed-time="1757522052"
                     data-messages="3">
                    <div class="ticket-header">
                        <a href="transcript-1415374708529954968.html" class="ticket-title">#ticket-warp-2</a>
                        <span class="ticket-status status-closed">
                            Закрыт
                        </span>
                    </div>
                    <div class="ticket-meta">
                        <div><strong>Категория:</strong> Одобрение-варпа</div>
                        <div><strong>Ник:</strong> f</div>
                        <div><strong>Открыл:</strong> Рэйка</div>
                        <div><strong>Дата:</strong> 10.09.2025 16:33</div>
                        <div><strong>Закрыл:</strong> Рэйка</div>
                        <div><strong>Закрыт:</strong> 10.09.2025 16:34</div>
                    </div>
                    <div class="ticket-footer">
                        <span>3 сообщений</span>
                        <a href="transcript-1415374708529954968.html" class="view-btn">Открыть</a>
                    </div>
                </div>
            
            </div>
            <footer>
                © 2025 Ticket Bot • Всего тикетов: 5 • Сгенерировано: 10.09.2025 17:31:25 UTC
            </footer>
        </body>
        </html>
        